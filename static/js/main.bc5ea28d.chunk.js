(this["webpackJsonpmy-react-crud"]=this["webpackJsonpmy-react-crud"]||[]).push([[0],{33:function(t,e,n){},34:function(t,e,n){},50:function(t,e,n){"use strict";n.r(e);var c=n(3),s=n.n(c),r=n(10),a=n.n(r),o=(n(33),n(34),n(20)),i=n(59),l=n(60),u=n(61),d=n(14),h=n(15),j=n(17),b=n(16),p=n(55),m=n(62),f=n(56),x=n(57),O=n(27),g=n(11),y=n(51),v=n(52),w=n(53),C=n(54),I=n(2),S=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(t){var c;return Object(d.a)(this,n),(c=e.call(this,t)).onChange=function(t){return c.setState(Object(O.a)({},t.target.name,t.target.value))},c.submitFormAdd=function(t){t.preventDefault(),c.props.onAddItem(c.state),c.props.toggle()},c.submitFormEdit=function(t){t.preventDefault(),c.props.onUpdateItem(c.state),c.props.toggle()},c.state={id:0,category:"Spanish",word:"",content:"",status:""},c.onChange=c.onChange.bind(Object(g.a)(c)),c.submitFormAdd=c.submitFormAdd.bind(Object(g.a)(c)),c.submitFormEdit=c.submitFormEdit.bind(Object(g.a)(c)),c}return Object(h.a)(n,[{key:"componentDidMount",value:function(){if(this.props.item){var t=this.props.item,e=t.id,n=t.category,c=t.word,s=t.content,r=t.status;this.setState({id:e,category:n,word:c,content:s,status:r})}}},{key:"render",value:function(){return Object(I.jsxs)(y.a,{onSubmit:this.props.item?this.submitFormEdit:this.submitFormAdd,children:[Object(I.jsxs)(v.a,{children:[Object(I.jsx)(w.a,{for:"category",children:"Category"}),Object(I.jsxs)(C.a,{type:"select",name:"category",id:"category",onChange:this.onChange,value:this.state.category?this.state.category:"",children:[Object(I.jsx)("option",{children:"Spanish"}),Object(I.jsx)("option",{children:"English"}),Object(I.jsx)("option",{children:"Desarrollador"}),Object(I.jsx)("option",{children:"Destinacinon"}),Object(I.jsx)("option",{})]})]}),Object(I.jsxs)(v.a,{children:[Object(I.jsx)(w.a,{for:"word",children:"Word"}),Object(I.jsx)(C.a,{type:"text",name:"word",id:"word",onChange:this.onChange,value:null===this.state.word?"":this.state.word})]}),Object(I.jsxs)(v.a,{children:[Object(I.jsx)(w.a,{for:"content",children:"Content"}),Object(I.jsx)(C.a,{type:"textarea",name:"content",id:"content",onChange:this.onChange,value:null===this.state.content?"":this.state.content})]}),Object(I.jsxs)(v.a,{children:[Object(I.jsx)(w.a,{for:"status",children:"Status"}),Object(I.jsx)(C.a,{type:"text",name:"status",id:"status",onChange:this.onChange,value:null===this.state.status?"Created":this.state.status,placeholder:"Created"})]}),Object(I.jsx)(p.a,{children:"Submit"})]})}}]),n}(s.a.Component),N=function(t){Object(j.a)(n,t);var e=Object(b.a)(n);function n(t){var c;return Object(d.a)(this,n),(c=e.call(this,t)).toggle=function(){c.setState((function(t){return{modal:!t.modal}}))},c.state={modal:!1},c}return Object(h.a)(n,[{key:"render",value:function(){var t=Object(I.jsx)("button",{className:"close",onClick:this.toggle,children:"\xd7"}),e=this.props.buttonLabel,n="",c="";return"Edit"===e?(n=Object(I.jsx)(p.a,{color:"warning",onClick:this.toggle,style:{float:"left",marginRight:"10px"},children:e}),c="Edit Item"):(n=Object(I.jsx)(p.a,{color:"success",onClick:this.toggle,style:{float:"left",marginRight:"10px"},children:e}),c="Add New Item"),Object(I.jsxs)("div",{children:[n,Object(I.jsxs)(m.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className,children:[Object(I.jsx)(f.a,{toggle:this.toggle,close:t,children:c}),Object(I.jsx)(x.a,{children:Object(I.jsx)(S,{onAddItem:this.props.onAddItem,onUpdateItem:this.props.onUpdateItem,toggle:this.toggle,item:this.props.item})})]})]})}}]),n}(c.Component),k=n(58),D=function(t){var e=t.row,n=t.onDeleteItem,c=t.onUpdateItem;return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:e.category}),Object(I.jsx)("td",{children:e.word}),Object(I.jsx)("td",{style:{"text-align":"left",width:"10px"},children:e.content}),Object(I.jsx)("td",{children:e.status}),Object(I.jsx)("td",{children:Object(I.jsxs)("div",{style:{width:"110px"},children:[Object(I.jsx)(N,{buttonLabel:"Edit",item:e,onUpdateItem:c})," ",Object(I.jsx)(p.a,{color:"danger",onClick:function(){return n(e.id)},children:"Delete"})]})})]})},E=function(t){return Object(I.jsx)("div",{className:"container-fluid",children:Object(I.jsxs)(k.a,{responsive:!0,hover:!0,className:"table",children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{className:"col-2",children:"Category"}),Object(I.jsx)("th",{className:"col-2",children:"Word"}),Object(I.jsx)("th",{className:"col-4",style:{"text-align":"left",width:"10px"},children:"Content"}),Object(I.jsx)("th",{className:"col-2",children:"Status"}),Object(I.jsx)("th",{className:"col-2",children:"Actions"})]})}),Object(I.jsx)("tbody",{children:t.items.map((function(e){return Object(I.jsx)(D,{row:e,onDeleteItem:t.onDeleteItem,onUpdateItem:t.onUpdateItem},e.id)}))})]})})},A=n(28),F=n(9),U=n.n(F),L=n(12);function T(){return(T=Object(L.a)(U.a.mark((function t(){var e;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://mymongofunctions.azurewebsites.net/api","/note"));case 2:return e=t.sent,t.next=5,e.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function z(){return(z=Object(L.a)(U.a.mark((function t(e){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("deleting :".concat(e)),t.next=3,fetch("".concat("https://mymongofunctions.azurewebsites.net/api","/note/").concat(e),{method:"DELETE"});case 3:return n=t.sent,t.abrupt("return",n.status);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(){return(J=Object(L.a)(U.a.mark((function t(e){var n;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("createNote",e),t.next=3,fetch("".concat("https://mymongofunctions.azurewebsites.net/api","/note"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:if(200!==(n=t.sent).status){t.next=10;break}return t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 10:return t.abrupt("return",{});case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(){return(P=Object(L.a)(U.a.mark((function t(e,n){var c;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("amendNote",n),t.next=3,fetch("".concat("https://mymongofunctions.azurewebsites.net/api","/note/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:if(200!==(c=t.sent).status){t.next=10;break}return t.next=7,c.json();case 7:return t.abrupt("return",t.sent);case 10:return t.abrupt("return",{});case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var M=function(){var t=Object(c.useState)([]),e=Object(o.a)(t,2),n=e[0],s=e[1],r=Object(c.useState)(!1),a=Object(o.a)(r,2),d=a[0],h=a[1];Object(c.useEffect)((function(){(function(){return T.apply(this,arguments)})().then((function(t){console.log("got :",t),s(t)})).catch((function(t){return console.log(t)}))}),[d]);return Object(I.jsxs)(i.a,{className:"App",children:[Object(I.jsx)(l.a,{children:Object(I.jsx)(u.a,{children:Object(I.jsx)("h1",{style:{margin:"20px 0"},children:"Words Memorizer"})})}),Object(I.jsx)(l.a,{children:Object(I.jsx)(u.a,{children:Object(I.jsx)(E,{items:n,onUpdateItem:function(t){(function(t,e){return P.apply(this,arguments)})(t.id,t).catch((function(t){return console.log(t)})).finally((function(){return h(!d)}))},onDeleteItem:function(t){(function(t){return z.apply(this,arguments)})(t).catch((function(t){return console.log(t)})).finally((function(){return h(!d)}))}})})}),Object(I.jsx)(l.a,{children:Object(I.jsxs)(u.a,{children:[Object(I.jsx)(A.CSVLink,{filename:"db.csv",color:"primary",style:{float:"left",marginRight:"10px"},className:"btn btn-primary",data:n,children:"Download CSV"}),Object(I.jsx)(N,{buttonLabel:"Add Item",onAddItem:function(t){(function(t){return J.apply(this,arguments)})(t).then((function(t){console.log("created: ",t)})).catch((function(t){return console.log(t)})).finally((function(){return h(!d)}))}})]})})]})};var R=function(){return Object(I.jsx)(M,{})},W=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,63)).then((function(e){var n=e.getCLS,c=e.getFID,s=e.getFCP,r=e.getLCP,a=e.getTTFB;n(t),c(t),s(t),r(t),a(t)}))};n(49);a.a.render(Object(I.jsx)(s.a.StrictMode,{children:Object(I.jsx)(R,{})}),document.getElementById("root")),W()}},[[50,1,2]]]);
//# sourceMappingURL=main.bc5ea28d.chunk.js.map